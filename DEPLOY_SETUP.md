# Настройка автоматического деплоя

## Настройка GitHub Secrets

Для работы автоматического деплоя необходимо настроить следующие секреты в GitHub:

### 1. Перейдите в настройки репозитория
- Откройте ваш репозиторий на GitHub
- Перейдите в `Settings` → `Secrets and variables` → `Actions`

### 2. Добавьте следующие секреты:

#### `SSH_PRIVATE_KEY`
- Приватный SSH ключ для подключения к серверу
- Содержимое файла `~/.ssh/id_rsa` (или другого приватного ключа)

#### `SERVER_HOST`
- IP адрес или доменное имя вашего сервера
- Например: `192.168.1.100` или `your-server.com`

#### `SERVER_USER`
- Имя пользователя для SSH подключения
- Например: `root`, `ubuntu`, `deploy`

## Настройка SSH ключей на сервере

### 1. Создайте SSH ключи (если еще не созданы)
```bash
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
```

### 2. Добавьте публичный ключ на сервер
```bash
ssh-copy-id user@your-server.com
```

### 3. Проверьте подключение
```bash
ssh user@your-server.com
```

## Структура деплой скрипта

Убедитесь, что на сервере существует файл `~/deploy/379tm_deploy.sh` с правами на выполнение:

```bash
chmod +x ~/deploy/379tm_deploy.sh
```

## Тестирование

После настройки секретов:
1. Сделайте коммит и пуш в ветку `main`
2. Проверьте вкладку `Actions` в GitHub репозитории
3. Убедитесь, что workflow выполнился успешно

## Безопасность

- Никогда не коммитьте приватные ключи в репозиторий
- Регулярно обновляйте SSH ключи
- Используйте отдельного пользователя для деплоя с ограниченными правами
